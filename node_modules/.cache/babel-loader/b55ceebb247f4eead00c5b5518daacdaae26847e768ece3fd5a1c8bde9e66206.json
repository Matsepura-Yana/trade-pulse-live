{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailVerificationPage=()=>{const[timeLeft,setTimeLeft]=useState(90);const[resendAvailable,setResendAvailable]=useState(false);const navigate=useNavigate();// Получение текущего пользователя\nconst currentUser=JSON.parse(localStorage.getItem('currentUser'));useEffect(()=>{if(!currentUser){alert('Пользователь не найден. Перенаправление на главную страницу.');navigate('/');return;}// Показ алерта\nconst confirmed=window.confirm(`Письмо с подтверждением отправлено на ${currentUser.email}. Нажмите 'OK' после подтверждения.`);if(confirmed){navigate('/verify-id');}},[navigate,currentUser]);// Обратный отсчет\nuseEffect(()=>{if(timeLeft===0){setResendAvailable(true);return;}const intervalId=setInterval(()=>setTimeLeft(prevTime=>prevTime-1),1000);return()=>clearInterval(intervalId);},[timeLeft]);const handleResendEmail=()=>{setTimeLeft(90);setResendAvailable(false);alert('Письмо отправлено повторно. Проверьте ваш email.');};if(!currentUser)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 Email\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0430 \\u0432\\u0430\\u0448 email \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u043E \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E. \\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0443 \\u043F\\u043E\\u0447\\u0442\\u0443.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0415\\u0441\\u043B\\u0438 \\u0432\\u044B \\u043D\\u0435 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u043B\\u0438 \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E, \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u0430\\u043F\\u043A\\u0443 \\\"\\u0421\\u043F\\u0430\\u043C\\\".\"}),resendAvailable?/*#__PURE__*/_jsx(\"button\",{onClick:handleResendEmail,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E\"}):/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438: \",timeLeft,\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]})]});};export default EmailVerificationPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","EmailVerificationPage","timeLeft","setTimeLeft","resendAvailable","setResendAvailable","navigate","currentUser","JSON","parse","localStorage","getItem","alert","confirmed","window","confirm","email","intervalId","setInterval","prevTime","clearInterval","handleResendEmail","style","textAlign","padding","children","onClick"],"sources":["C:/Users/Yana/trade pules/src/pages/EmailVerificationPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst EmailVerificationPage = () => {\r\n\tconst [timeLeft, setTimeLeft] = useState(90)\r\n\tconst [resendAvailable, setResendAvailable] = useState(false)\r\n\tconst navigate = useNavigate()\r\n\r\n\t// Получение текущего пользователя\r\n\tconst currentUser = JSON.parse(localStorage.getItem('currentUser'))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!currentUser) {\r\n\t\t\talert('Пользователь не найден. Перенаправление на главную страницу.')\r\n\t\t\tnavigate('/')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Показ алерта\r\n\t\tconst confirmed = window.confirm(\r\n\t\t\t`Письмо с подтверждением отправлено на ${currentUser.email}. Нажмите 'OK' после подтверждения.`\r\n\t\t)\r\n\r\n\t\tif (confirmed) {\r\n\t\t\tnavigate('/verify-id')\r\n\t\t}\r\n\t}, [navigate, currentUser])\r\n\r\n\t// Обратный отсчет\r\n\tuseEffect(() => {\r\n\t\tif (timeLeft === 0) {\r\n\t\t\tsetResendAvailable(true)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst intervalId = setInterval(\r\n\t\t\t() => setTimeLeft((prevTime) => prevTime - 1),\r\n\t\t\t1000\r\n\t\t)\r\n\t\treturn () => clearInterval(intervalId)\r\n\t}, [timeLeft])\r\n\r\n\tconst handleResendEmail = () => {\r\n\t\tsetTimeLeft(90)\r\n\t\tsetResendAvailable(false)\r\n\t\talert('Письмо отправлено повторно. Проверьте ваш email.')\r\n\t}\r\n\r\n\tif (!currentUser) return null\r\n\r\n\treturn (\r\n\t\t<div style={{ textAlign: 'center', padding: '20px' }}>\r\n\t\t\t<h1>Подтверждение Email</h1>\r\n\t\t\t<p>На ваш email отправлено письмо. Подтвердите вашу почту.</p>\r\n\t\t\t<p>Если вы не получили письмо, проверьте папку \"Спам\".</p>\r\n\t\t\t{resendAvailable ? (\r\n\t\t\t\t<button onClick={handleResendEmail}>Отправить новое письмо</button>\r\n\t\t\t) : (\r\n\t\t\t\t<p>Осталось времени: {timeLeft} секунд</p>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default EmailVerificationPage\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,eAAe,CAAEC,kBAAkB,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAW,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAEnEjB,SAAS,CAAC,IAAM,CACf,GAAI,CAACa,WAAW,CAAE,CACjBK,KAAK,CAAC,8DAA8D,CAAC,CACrEN,QAAQ,CAAC,GAAG,CAAC,CACb,OACD,CAEA;AACA,KAAM,CAAAO,SAAS,CAAGC,MAAM,CAACC,OAAO,CAC/B,yCAAyCR,WAAW,CAACS,KAAK,qCAC3D,CAAC,CAED,GAAIH,SAAS,CAAE,CACdP,QAAQ,CAAC,YAAY,CAAC,CACvB,CACD,CAAC,CAAE,CAACA,QAAQ,CAAEC,WAAW,CAAC,CAAC,CAE3B;AACAb,SAAS,CAAC,IAAM,CACf,GAAIQ,QAAQ,GAAK,CAAC,CAAE,CACnBG,kBAAkB,CAAC,IAAI,CAAC,CACxB,OACD,CAEA,KAAM,CAAAY,UAAU,CAAGC,WAAW,CAC7B,IAAMf,WAAW,CAAEgB,QAAQ,EAAKA,QAAQ,CAAG,CAAC,CAAC,CAC7C,IACD,CAAC,CACD,MAAO,IAAMC,aAAa,CAACH,UAAU,CAAC,CACvC,CAAC,CAAE,CAACf,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAmB,iBAAiB,CAAGA,CAAA,GAAM,CAC/BlB,WAAW,CAAC,EAAE,CAAC,CACfE,kBAAkB,CAAC,KAAK,CAAC,CACzBO,KAAK,CAAC,kDAAkD,CAAC,CAC1D,CAAC,CAED,GAAI,CAACL,WAAW,CAAE,MAAO,KAAI,CAE7B,mBACCP,KAAA,QAAKsB,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eACpD3B,IAAA,OAAA2B,QAAA,CAAI,sFAAmB,CAAI,CAAC,cAC5B3B,IAAA,MAAA2B,QAAA,CAAG,sQAAuD,CAAG,CAAC,cAC9D3B,IAAA,MAAA2B,QAAA,CAAG,+PAAmD,CAAG,CAAC,CACzDrB,eAAe,cACfN,IAAA,WAAQ4B,OAAO,CAAEL,iBAAkB,CAAAI,QAAA,CAAC,4HAAsB,CAAQ,CAAC,cAEnEzB,KAAA,MAAAyB,QAAA,EAAG,+FAAkB,CAACvB,QAAQ,CAAC,uCAAO,EAAG,CACzC,EACG,CAAC,CAER,CAAC,CAED,cAAe,CAAAD,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}