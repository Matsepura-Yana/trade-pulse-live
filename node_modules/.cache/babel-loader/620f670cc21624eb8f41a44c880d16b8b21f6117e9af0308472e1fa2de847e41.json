{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import'../styles/Header.css';import closeIcon from'../images/close icon.svg';import logo from'../images/logo.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=_ref=>{let{user}=_ref;const[isMenuOpen,setMenuOpen]=useState(false);const[isScrolled,setScrolled]=useState(false);const[isClosing,setIsClosing]=useState(false);const[isLoading,setIsLoading]=useState(true);// Добавляем состояние загрузки\nconst[currentUser,setCurrentUser]=useState(null);// Локальное состояние для пользователя\nuseEffect(()=>{// Загружаем пользователя из локального хранилища\nconst userData=JSON.parse(localStorage.getItem('currentUser'));setCurrentUser(userData);setIsLoading(false);// Загрузка завершена\n},[]);const toggleMenu=()=>{if(isMenuOpen){// Если модалка открыта, запускаем анимацию закрытия\nsetIsClosing(true);setTimeout(()=>{setMenuOpen(false);// Закрываем меню после окончания анимации\nsetIsClosing(false);// Сброс состояния анимации\n},200);// Время анимации закрытия (200ms)\n}else{setMenuOpen(true);}};// Обработчик прокрутки\nuseEffect(()=>{const handleScroll=()=>{if(window.scrollY>50){setScrolled(true);}else{setScrolled(false);}};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);if(isLoading){// Отображаем состояние загрузки\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:`header ${isScrolled?'scrolled':''}`,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"header-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",height:\"50px\"})}),/*#__PURE__*/_jsxs(\"div\",{className:`burger-menu`,onClick:toggleMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bar\"})]})]}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:`modal-overlay ${isClosing?'closing':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[currentUser?/*#__PURE__*/_jsx(Link,{to:\"/signals\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"modal-button\",children:\"\\u0421\\u0438\\u0433\\u043D\\u0430\\u043B\"})}):/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"modal-button\",children:\"\\u0421\\u0438\\u0433\\u043D\\u0430\\u043B\"})}),currentUser?/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"modal-button\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Link,{to:\"/faq\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"modal-button\",children:\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-button\",children:/*#__PURE__*/_jsx(\"img\",{src:closeIcon,alt:\"close icon\",onClick:toggleMenu,width:\"36px\"})})]})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","closeIcon","logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_ref","user","isMenuOpen","setMenuOpen","isScrolled","setScrolled","isClosing","setIsClosing","isLoading","setIsLoading","currentUser","setCurrentUser","userData","JSON","parse","localStorage","getItem","toggleMenu","setTimeout","handleScroll","window","scrollY","addEventListener","removeEventListener","children","className","to","src","alt","height","onClick","e","stopPropagation","width"],"sources":["C:/Users/Yana/trade pulse live/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../styles/Header.css'\r\nimport closeIcon from '../images/close icon.svg'\r\nimport logo from '../images/logo.png'\r\n\r\nconst Header = ({ user }) => {\r\n\tconst [isMenuOpen, setMenuOpen] = useState(false)\r\n\tconst [isScrolled, setScrolled] = useState(false)\r\n\tconst [isClosing, setIsClosing] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState(true) // Добавляем состояние загрузки\r\n\tconst [currentUser, setCurrentUser] = useState(null) // Локальное состояние для пользователя\r\n\r\n\tuseEffect(() => {\r\n\t\t// Загружаем пользователя из локального хранилища\r\n\t\tconst userData = JSON.parse(localStorage.getItem('currentUser'))\r\n\t\tsetCurrentUser(userData)\r\n\t\tsetIsLoading(false) // Загрузка завершена\r\n\t}, [])\r\n\r\n\tconst toggleMenu = () => {\r\n\t\tif (isMenuOpen) {\r\n\t\t\t// Если модалка открыта, запускаем анимацию закрытия\r\n\t\t\tsetIsClosing(true)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetMenuOpen(false) // Закрываем меню после окончания анимации\r\n\t\t\t\tsetIsClosing(false) // Сброс состояния анимации\r\n\t\t\t}, 200) // Время анимации закрытия (200ms)\r\n\t\t} else {\r\n\t\t\tsetMenuOpen(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// Обработчик прокрутки\r\n\tuseEffect(() => {\r\n\t\tconst handleScroll = () => {\r\n\t\t\tif (window.scrollY > 50) {\r\n\t\t\t\tsetScrolled(true)\r\n\t\t\t} else {\r\n\t\t\t\tsetScrolled(false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('scroll', handleScroll)\r\n\t\treturn () => window.removeEventListener('scroll', handleScroll)\r\n\t}, [])\r\n\r\n\tif (isLoading) {\r\n\t\t// Отображаем состояние загрузки\r\n\t\treturn <div>Загрузка...</div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<header className={`header ${isScrolled ? 'scrolled' : ''}`}>\r\n\t\t\t\t<Link to='/' className='header-logo'>\r\n\t\t\t\t\t<img src={logo} alt='Logo' height='50px' />\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t{/* Бургер-меню */}\r\n\t\t\t\t<div className={`burger-menu`} onClick={toggleMenu}>\r\n\t\t\t\t\t<div className='bar'></div>\r\n\t\t\t\t\t<div className='bar'></div>\r\n\t\t\t\t\t<div className='bar'></div>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\r\n\t\t\t{/* Условный рендеринг модалки */}\r\n\t\t\t{isMenuOpen && (\r\n\t\t\t\t<div className={`modal-overlay ${isClosing ? 'closing' : ''}`}>\r\n\t\t\t\t\t<div className='modal-content' onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t\t{/* Проверяем авторизацию */}\r\n\t\t\t\t\t\t{currentUser ? (\r\n\t\t\t\t\t\t\t<Link to='/signals'>\r\n\t\t\t\t\t\t\t\t<h1 className='modal-button'>Сигнал</h1>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Link to='/register'>\r\n\t\t\t\t\t\t\t\t<h1 className='modal-button'>Сигнал</h1>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{currentUser ? (\r\n\t\t\t\t\t\t\t<Link to='/profile'>\r\n\t\t\t\t\t\t\t\t<h1 className='modal-button'>Профиль</h1>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Link to='/faq'>\r\n\t\t\t\t\t\t\t<h1 className='modal-button'>Вопросы</h1>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* Крестик для закрытия модалки в правом верхнем углу */}\r\n\t\t\t\t\t<div className='close-button'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={closeIcon}\r\n\t\t\t\t\t\t\talt='close icon'\r\n\t\t\t\t\t\t\tonClick={toggleMenu}\r\n\t\t\t\t\t\t\twidth='36px'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}